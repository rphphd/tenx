"use strict";var re2App=angular.module("re2App",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","googlechart"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/receng",{templateUrl:"views/receng.html",controller:"RecengCtrl",controllerAs:"receng"}).when("/pb",{redirectTo:"/receng"}).when("/propsearch",{templateUrl:"views/propsearch.html",controller:"PropsearchCtrl",controllerAs:"propsearch"}).when("/watchlist",{templateUrl:"views/watchlist.html",controller:"WatchlistCtrl",controllerAs:"watchlist"}).when("/portfolio",{templateUrl:"views/portfolio.html",controller:"PortfolioCtrl",controllerAs:"portfolio"}).otherwise({redirectTo:function(a,b,c){return console.log("otherwise",a,b,c),"/"}})}]).constant("_",window._).constant("tinycolor",window.tinycolor);console.log("re2App",re2App,"googlechart"),re2App.run(["$document",function(a){var b=!1,c=function(a){for(var b=10,c=a;""===c.id&&b>0;)c=c.parentElement,b--;return c.id},d=function(a){var b=a.target;if("body"!==b.localName){var d=c(b),e={type:a.type,timeStamp:(new Date).getTime(),windowHref:window.location.href,targetDOMtag:b.localName,windowHost:window.location.hostname,targetValue:b.value,windowHash:window.location.hash,targetName:b.name,windowPort:window.location.port,targetText:b.textContent.trim(),closestId:d};console.log("ubiHandler",a,e)}};if(b){var e=["click","keydown","focus","blur","mouseenter","mouseleave","submit","change","select"],f=a.find("body")[0];console.log("body node",f);for(var g=0;g<e.length;g++)f.addEventListener(e[g],d)}}]),angular.module("re2App").controller("MainCtrl",function(){}),angular.module("re2App").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("re2App").controller("RecengCtrl",["_","$rootScope","$scope","$compile","investmentService",function(a,b,c,d,e){c.plan=e.getInvPlan(),c.sortField="Price",c.wpTop={},c.sortDirection="fa fa-angle-up",c.fc=e.getFinancing(),b.reCurrentStep=0,console.log("RecengCtrl $scope",c.$id,c),b.sortFields=["PRICE","INVESTMENT","MARKET","NEIGHBORHOOD","APPRECIATION","CASH ON CASH","YIELD","REALestimateâ„¢","TOTAL RETURN"],b.addedRecommendations=!1;var f=function(a,b,c,d){var e=document.getElementById("ar"+a);null!==e&&(e.className=b+" button--xs button--blue-border",e.innerHTML='<i class="fa fa-'+c+'" ></i>&nbsp;'+d+" Portfolio")},g=function(a){console.log("setRecommendations",c.$id,a),b.recommendations=a,b.numProps=a.length};b.haveRecommendations.then(function(c){g(e.orderBy(c,"PRICE")),a.forEach(b.recommendations,function(a){a.selected=!0}),console.log("in haveRecommendations, recommendatons",a.pluck(b.recommendations,"pid").sort())}),c.replaceProperty=function(c){console.log("replace property",c);var d=a.pluck(b.recommendations,"pid");b.recommendations=e.swapProperties(c);var g=a.difference(a.pluck(b.recommendations,"pid"),d)[0];f(g,"pdAddToPortfolio","plus","Add to"),console.log("replaceproperty: recommendatons",a.pluck(b.recommendations,"pid").sort()),b.invMixChg=!0,b.portfolioChange=!0,b.propertyListingChange=!0},c.deleteProperty=function(c){console.log("delete property",c),b.recommendations=e.deleteProperty(c),b.numProps=b.recommendations.length,console.log("deleteproperty: recommendatons",a.pluck(b.recommendations,"pid").sort()),b.invMixChg=!0},c.addToRemoveFromPortfolio=function(c){var d=document.getElementById("ar"+c);if(console.log("addToRemoveFromPortfolio",c,d.className),d.className.indexOf("pdAddToPortfolio")>=0){var g=a.find(b.recommendations,{pid:c});e.addToPortfolio(g),f(c,"pdRemoveFromPortfolio","minus","Remove from")}else e.deleteFromPortfolio(c),f(c,"pdAddToPortfolio","plus","Add to");b.portfolioChange=!0},c.addAllToPortfolio=function(){a.forEach(b.recommendations,function(a){a.selected&&(e.addToPortfolio(a),a.selected=!1,f(a.pid,"pdRemoveFromPortfolio","minus","Remove from"))})},c.changeSort=function(a){c.sortField=a,b.recommendations=e.orderBy(b.recommendations,a),c.sortDirection="fa fa-angle-up"},c.changeDirection=function(){c.sortDirection.indexOf("up")>=0?c.sortDirection="fa fa-angle-down":c.sortDirection="fa fa-angle-up",b.recommendations.reverse()},c.propSelected=function(b){var c=a.pluck(e.getPortfolio(),"pid");return c.indexOf(b)>=0?"background-color : rgb(242,242,242);":""},c.checkedSelected=function(a){console.log("checkedSelected",a),b.portfolioChange=!0},b.$watch("propertyListingChange",function(c,d){if(c&&!d){b.propertyListingChange=!1;var g=a.pluck(e.getPortfolio(),"pid"),h=e.getRecommendationUpdate();console.log("propertyListingChange",g,h),a.forEach(h,function(a){g.indexOf(a.pid)>=0?f(a.pid,"pdRemoveFromPortfolio","minus","Remove from"):f(a.pid,"pdAddToPortfolio","plus","Add to")})}}),b.$watch("addedRecommendations",function(d,h){if(d&&!h){console.log("addedRecommendations watch",d,h),b.addedRecommendations=!1;var i=a.pluck(b.recommendations,"pid");console.log("scope id is: ",c.$id,"currentPids",i.sort());var j=e.getRecommendationUpdate();g(e.orderBy(j,"PRICE"));var k=a.difference(a.pluck(b.recommendations,"pid"),i)[0];console.log("newPid",k,"new recommendations",c,a.pluck(b.recommendations,"pid").sort()),f(k,"pdAddToPortfolio","plus","Add to"),b.invMixChg=!0,b.portfolioChange=!0,b.propertyListingChange=!0}})}]),angular.module("re2App").controller("PbnavCtrl",["_","$scope","$location",function(a,b,c){b.txt="This is the pbnav view.",b.menuItems=[{name:"Portfolio",route:"/portfolio"},{name:"Recommendation Engine",route:"/receng"},{name:"Property Search",route:"/propsearch"},{name:"Watchlist",route:"/watchlist"}],b.selectedMenu=a.find(b.menuItems,{route:c.$$url}),b.chgSelected=function(a){b.selectedMenu=a}}]),angular.module("re2App").controller("PbprogCtrl",["$rootScope","$scope","investmentService",function(a,b,c){b.plan=c.getInvPlan(),b.steps=["Create Plan: ","Build Portfolio","Start Bid Process"],b.progressCheck=function(c){var d=b.steps.indexOf(c);return a.reCurrentStep>=d?"fa fa-check-circle":"fa fa-circle-o"},b.progressStyle=function(c){var d=b.steps.indexOf(c);return a.reCurrentStep>=d?{}:{color:"rgba(192,192,192,1)"}}}]),angular.module("re2App").controller("PortfolioCtrl",function(){}),angular.module("re2App").controller("PropsearchCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("re2App").controller("WatchlistCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("re2App").controller("ModcriteriaCtrl",["$scope","_","$sce","investmentService",function(a,b,c,d){var e=!1;a.invAmt="$"+d.getInvParms().investmentAmount.toLocaleString("currency"),console.log("invAmt",a.invAmt),a.locations=d.getLocations().join(", "),a.neighborhoods=d.getNeighborhoods(),console.log("neighborhoods",a.neighborhoods),a.financing=d.getFinancing(),a.fc=[{name:"financed",selected:!1},{name:"cash",selected:!1}],console.log("financing",a.financing),a.goals=[{name:"yields",selected:!1},{name:"appreciation",selected:!1},{name:"balanced",selected:!1}],a.invPlan=d.getInvPlan();var f=[{name:"Locations",icon:"",state:"display",width:"40",code:c.trustAsHtml('<input type="text" ng-model="locations" style="font-size:12px;width:95%"/>')},{name:"Investment Amount",icon:"",state:"display",width:"20",code:c.trustAsHtml('<input type="text"  ng-model="invAmt"  ng-change="invAmtChg(invAmt)"/>')},{name:"Neighborhoods",icon:"fa-question-circle",state:"display",width:"30",code:c.trustAsHtml('<button class="btn btn-default" ng-style="getNHStyle(nh)" ng-repeat="nh in neighborhoods" ng-click="selectNH( nh )">{{ nh.name | uppercase }}</button>')},{name:"Finance",icon:"",state:"collapsed",width:"30",code:c.trustAsHtml('<label class="radio-inline" ng-repeat="fcoption in fc"><input type="radio" name="financing" ng-model="financing" value="{{fcoption.name}}"   ng-Click="changeFinancing(fcoption)" >{{ fcoption.name | fcDisplay }}</label>')},{name:"Investment Goal",icon:"",state:"collapsed",width:"50",code:c.trustAsHtml('<label class="radio-inline" ng-repeat="goaloption in goals"><input type="radio" name="invPlan" ng-model="invPlan" value="{{goaloption.name}}"   ng-Click="changeGoal(goaloption)" >{{ goaloption.name }}</label>')}];a.showCriteria=!1,a.openClose="fa fa-chevron-down",a.filters=f,a.theRowRange=b.range(Math.ceil(f.length/3)),console.log(a.filters,a.theRowRange),a.openClosePanel=function(){e?(e=!1,a.openClose="fa fa-chevron-down",a.showCriteria=!1):(e=!0,a.openClose="fa fa-chevron-up",a.showCriteria=!0)},a.invAmtChg=function(a){var b=d.getInvParms();b.investmentAmount=parseInt(a.replace("$","").replace(",","")),d.setInvParms(b),console.log("watch",a,d.getInvParms()),d.resetRecommendations()},a.selectNH=function(b){console.log("selectNH",b),b.selected?b.selected=!1:b.selected=!0,console.log("neighborhoods updated",a.neighborhoods),d.setNeighborhoods(a.neighborhoods),d.resetRecommendations()},a.getNHStyle=function(a){return a.selected?{"background-color":"#000",color:"#fff","margin-right":"5px"}:{"background-color":"rgba(216,216,216,1)",color:"#000","margin-right":"5px"}},a.changeFinancing=function(c){console.log("changeFinancing",c),a.financing=c.name,d.setFinancing(c.name),b.forEach(a.fc,function(a){a.selected=!1}),c.selected=!0,d.resetRecommendations()},a.changeGoal=function(c){console.log("changeGoal",c),a.invPlan=c.name,d.setInvPlan(c.name),b.forEach(a.goals,function(a){a.selected=!1}),c.selected=!0,d.resetRecommendations()},a.expandFilter=function(c){console.log("expandFilter",c);var d=b.find(a.filters,{name:c});"undefined"!=typeof d&&(d.state="display")},a.collapseFilter=function(c){var d=b.find(a.filters,{name:c});console.log("colfilter",d),"undefined"!=typeof d&&(d.state="collapsed")},a.portfolioReset=function(a){a.preventDefault(),d.setPortfolio([]),console.log("portfolioReset",d.getPortfolio())}}]),angular.module("re2App").controller("WorkportfolioCtrl",["_","$rootScope","$scope","$timeout","investmentService",function(a,b,c,d,e){console.log("WorkportfolioCtrl rootScope",b);var f=e.getFinancing(),g=function(c){var d=e.getPortfolio();if(c.totalReturn=0,c.appreciation=0,c.realEstimate=0,c.investment=0,c.portfolioValue=0,c.numberOfProperties=0,c.numberToAdd=0,console.log("WorkportfolioCtrl portfolio",d,c),d.length>0&&(console.log("set variables",a.pluck(d,"pid").sort()),c.totalReturn=a.reduce(d,function(a,b){return b.TotalReturn[f]+a},0)/d.length,c.appreciation=a.reduce(d,function(a,b){return b.ApprReturn[f]+a},0)/d.length,c.realEstimate=a.reduce(d,function(a,b){return b.REALestimate[f]+a},0)/d.length,c.investment=a.reduce(d,function(a,b){return b.minInvestment[f]+a},0),c.portfolioValue=a.reduce(d,function(a,b){return b.price+a},0),c.numberOfProperties=d.length),b.numProps>0){var g=a.pluck(d,"pid"),h=a.reject(a.filter(e.getRecommendationUpdate(),{selected:!0}),function(a){return g.indexOf(a.pid)>=0});console.log("in workportfolio have recommedations, selectedProps:",h),h.length>0&&(c.hasPropertySelections="font-weight:900;",c.totalReturn+=a.reduce(h,function(a,b){return b.TotalReturn[f]+a},0)/h.length,c.appreciation+=a.reduce(h,function(a,b){return b.ApprReturn[f]+a},0)/h.length,c.realEstimate+=a.reduce(h,function(a,b){return b.REALestimate[f]+a},0)/h.length,c.investment+=a.reduce(h,function(a,b){return b.minInvestment[f]+a},0),c.portfolioValue+=a.reduce(h,function(a,b){return b.price+a},0),c.numberOfProperties+=h.length,c.numberToAdd=h.length)}return c};c=g(c),c.addToPortfolio=function(){console.log("in working portfolio reached add to portfolio"),c.hasPropertySelections="",b.haveRecommendations.then(function(d){var f=a.filter(d,{selected:!0});a.forEach(f,function(a){e.addToPortfolio(a),a.selected=!1}),c.numberToAdd=0,c.hasPropertySelections="font-weight:normal;",b.portfolioChange=!0,b.propertyListingChange=!0})},c.showProperties=function(){return b.numProps>0&&c.numberOfProperties>0?!0:!1},c.$watch("numProps",function(a,d){a!==d&&(console.log("workportfolio portfolio numProps watch called",a,d),c=g(c),console.log("end of numProps watch",c,c.$id,b),b.propertyListingChange=!0)}),c.$watch(function(){return b.portfolioChange},function(a,d){a&&!d&&(b.portfolioChange=!1,console.log("workportfolio portfolioChange watch called",a,d),console.log("workportfolio portfolioChange watch called",a,d),c=g(c),console.log("end of portfolioChange watch",c,c.$id,b),b.propertyListingChange=!0)})}]),angular.module("re2App").controller("TriadCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("re2App").service("propertyService",["_","$q","$http",function(a,b,c){var d=[{streetAddress:"1234 Main Hammond Road",cityState:"Columbus, OH",beds:5,baths:5,size:2800,built:1999,HIL:"Columbus, OH",thumbnailUrl:"images/houses/home1.22301e74.png"},{streetAddress:"77 Sunset Strip",cityState:"San Antonio, TX",beds:5,baths:5,size:2800,built:1999,HIL:"San Antonio, TX",thumbnailUrl:"images/houses/home2.de6c9f16.png"},{streetAddress:"111 N. Maple Ave.",cityState:"Birmingham, AL",beds:5,baths:5,size:2800,built:1999,HIL:"Birmingham, AL",thumbnailUrl:"images/houses/home3.c50248ef.png"}],e=.05,f=.09,g=[[0,0,0,0,0],[5,0,0,0,0],[10,0,0,0,0],[15,0,0,0,0],[20,0,0,0,0],[25,0,0,0,0],[30,0,0,0,0]],h=function(b,c,d){var e=0;return a.forEach(b,function(a){var b=a.price*(Math.pow(1+a.ApprReturn[c]/100,d)-1);e+=b}),Math.round(e)},i=function(b,c,d){var e=0;return a.forEach(b,function(a){var b=a.price*f*d,g=b+a.minInvestment[c];e+=g}),Math.round(e)},j=function(b,c,d){var e=0;return a.forEach(b,function(a){var b=a.price*a.cashOnCash/100*d;e+=b}),Math.round(e)},k=function(b,c,d){var f=0;return a.forEach(b,function(a){var b=e/100/12,c=b*a.price/(1-Math.pow(1+b,-360)),g=c*d*12;f+=g}),Math.round(f)},l=function(){var d=b.defer(),e=[];return c.get("scripts/services/inventory_trends.json").success(function(b){e=a.remove(b,function(a){return"D"!==a.nirclass}),d.resolve(e)}).error(function(a,b){console.log("error in getting inventory",b),d.reject(e)}),d.promise};this.theInventory=l(),this.getProperties=function(){var c=this,e=function(){var e=b.defer(),f=c.theInventory;return f.then(function(b){console.log("inventory",b),a.forEach(b,function(c,e){b[e].parameters=d[a.random(d.length-1)],b[e].cashOnCash=5.83,b[e].recommended=!1,b[e].rejected=!1,b[e].price=b[e].minInvestment.cash});var c=a.sample(b,30);a.forEach(c,function(a,b,c){c[b].yields=b});var f=a.sample(b,30);a.forEach(f,function(a,b,c){c[b].appreciation=b});var g=a.sample(b,30);a.forEach(g,function(a,b,c){c[b].balanced=b}),console.log("yields",c),e.resolve(a.union(c,f,g))},function(a){console.log("reject callback",a)}),e.promise};return{properties:e()}},this.addNewProperty=function(b){var c=b;return c.parameters=d[a.random(d.length-1)],c.cashOnCash=5.83,c.recommended=!0,c.rejected=!1,c},this.get30yrGrowthData=function(b,c){var d={cols:[{id:"year",label:"Year",type:"string",p:{}},{id:"proj-investment",label:"Investment",type:"number"},{id:"proj-loan",label:"Loan Paydown",type:"number",p:{}},{id:"proj-apprec",label:"Appreciation",type:"number",p:{}},{id:"proj-cashflow",label:"Cash Flow",type:"number",p:{}}]};console.log("get30yrGrowthData",b,c);for(var e=1;e<g.length;e++)g[e][1]=i(b,c,g[e][0]),g[e][2]=k(b,c,g[e][0]),g[e][3]=h(b,c,g[e][0]),g[e][4]=j(b,c,g[e][0]);console.log("growthData",JSON.stringify(g)),d.rows=[];var f=[];return a.forEach(g,function(a){f=[],f.push(0===a[0]?{v:"Today"}:{v:a[0]+" Years"});for(var b=0,c=1;c<a.length;c++)b+=a[c],f.push({v:b,f:" $"+a[c].toLocaleString("currency")});d.rows.push({c:f})}),console.log("data",d),d}}]),angular.module("re2App").service("investmentService",["_","$rootScope","propertyService","localStorageService",function(a,b,c,d){var e={riskTolerance:1,investmentAmount:25e3,financing:"financed",investmentGoal:"appreciation"},f=["Any HomeUnion Investment Properties"],g=[{name:"Lux",selected:!0},{name:"A",selected:!0},{name:"B",selected:!0},{name:"C",selected:!0}],h=null,i=[];d.existsKey("investorSearchParameters")&&(e=d.getValue("investorSearchParameters")),d.existsKey("locations")&&(f=d.getValue("locations")),d.existsKey("neighborhoods")&&(g=d.getValue("neighborhoods")),b.haveRecommendations=c.getProperties().properties.then(function(b){h=b,j();var c=a.filter(h,{recommended:!0});return c});var j=function(){var b=e.financing,c=e.investmentGoal,d=a.reject(h,function(a){return"undefined"==typeof a[c]});console.log("qual properties"),d=a.filter(d,function(b){var c=!1,d=b.nirclass.substr(0,1).toUpperCase();return"L"===d&&(d="Lux"),a.find(g,{name:d}).selected&&(c=!0),c});for(var f=0,i=0;i<d.length;i++)f+d[i].minInvestment[b]<e.investmentAmount&&(f+=d[i].minInvestment[b],d[i].recommended=!0)};this.getInvPlan=function(){return e.investmentGoal},this.setInvPlan=function(a){e.investmentGoal=a,d.setValue("investorSearchParameters",e)},this.getFinancing=function(){return e.financing},this.setFinancing=function(a){e.financing=a,d.setValue("investorSearchParameters",e)},this.getInvParms=function(){return e},this.setInvParms=function(a){e=a,d.setValue("investorSearchParameters",e)},this.getLocations=function(){return f},this.setLocations=function(a){f=a,d.setValue("locations",e)},this.getNeighborhoods=function(){return g},this.setNeighborhoods=function(a){g=a,d.setValue("neighborhoods",g)},this.getPortfolio=function(){return i},this.setPortfolio=function(a){i=a,b.portfolioChange=!0},this.addToPortfolio=function(a){i.push(a),b.portfolioChange=!0},this.deleteFromPortfolio=function(c){i=a.reject(i,{pid:c}),b.portfolioChange=!0},this.inPortfolio=function(b){var c=!1,d=a.find(i,function(a){return a.pid===b});return"undefined"!=typeof d&&(c=!0),c},this.orderBy=function(b,c){var d=e.financing,f=a.sortBy(b,function(a){switch(c){case"PRICE":return a.price;case"INVESTMENT":return a.minInvestment[d];case"MARKET":return a.nirclass;case"NEIGHBORHOOD":return a.nirclass;case"APPRECIATION":return a.ApprReturn[d];case"CASH ON CASH":return a.cashOnCash;case"YIELD":return"";case"REALestimateâ„¢":return a.REALestimate[d];case"TOTAL RETURN":return a.TotalReturn[d]}});return f},this.swapProperties=function(b){var c=a.find(h,{pid:b});c.rejected=!0,c.recommended=!1,this.deleteFromPortfolio(b);var d=a.filter(h,function(a){return!a.rejected&&!a.recommended}),e=a.sample(d,1)[0].pid;console.log("newOne",e),a.find(h,{pid:e}).recommended=!0;var f=a.filter(h,function(a){return a.recommended});return f},this.deleteProperty=function(b){a.find(h,{pid:b}).recommended=!1,this.deleteFromPortfolio(b);var c=a.filter(h,function(a){return a.recommended});return c},this.addPropertyToRecommended=function(d){console.log("addPropertyToRecommended pid",d),c.theInventory.then(function(b){console.log("addPropertyToRecommended results",b.length,a.find(b,{pid:d})),h.push(c.addNewProperty(a.find(b,{pid:d})))}),b.addedRecommendations=!0},this.getRecommendationUpdate=function(){var b=a.filter(h,function(a){return a.recommended});return console.log("updatedRecommendation",b),b},this.resetRecommendations=function(){console.log("resetRecommendations",h.length,h),a.forEach(h,function(a){a.recommended=!1}),j();var c=a.pluck(i,"pid"),d=a.reject(a.filter(h,{recommended:!0}),function(a){return c.indexOf(a.pid)>=0});a.forEach(d,function(b){a.find(h,{pid:b.pid}).selected=!0}),console.log("newRecommendations",d),b.addedRecommendations=!0,b.portfolioChange=!0,b.invMixChg=!0}}]),angular.module("re2App").controller("PbCtrl",function(){}),angular.module("re2App").controller("PlheaderCtrl",function(){}),angular.module("re2App").controller("InvmixCtrl",["$rootScope","$scope","_","riskGroupService",function(a,b,c,d){var e,f=[],g=["LUXURY","A","B","C"];b.nhColors=[],c.forEach(g,function(a){b.nhColors[a]=d.getNirColor(a)});var h=function(a){e={LUXURY:0,A:0,B:0,C:0},c.forEach(a,function(a){var b=a.nirclass.substr(0,1).toUpperCase().replace("L","Luxury");e.hasOwnProperty(b)?e[b]++:e[b]=1}),console.log("nhCounts",e),b.nhClasses=g,b.nhCounts=e};console.log("$scope.nhColors",b.nhColors),a.haveRecommendations.then(function(a){f=a,console.log("inv mix rec Props",f),h(a)}),a.$watch("invMixChg",function(b,c){b!==c&&(console.log("invMixChg watch",b,c),a.invMixChg=!1,h(a.recommendations),a.mktDistChg=!0)})}]),angular.module("re2App").controller("MarkdistCtrl",["$rootScope","$scope","_",function(a,b,c){var d=function(a){b.propCounts=a.length,b.theMarkets=c.groupBy(a,function(a){var b=a.parameters.HIL.split(",");return b[0].replace(/ /g,"")}),b.theCities=c.keys(b.theMarkets),b.marketCount=b.theCities.length};a.haveRecommendations.then(function(a){var b=a;d(b)}),a.$watch("mktDistChg",function(b,c){b&&!c&&(console.log("mktDistChg watch",b,c),a.mktDistChg=!1,d(a.recommendations))})}]),angular.module("re2App").controller("ProjgrowthCtrl",["$rootScope","$scope","investmentService","propertyService",function(a,b,c,d){b.cssStyle={height:"300px",width:"383px"},b.chartObject={type:"AreaChart",displayed:!0,options:{areaOpacity:.8,isStacked:!0,fill:20,legend:{position:"top",maxLines:2,alignment:"center",textStyle:{color:"black",fontSize:"10"}},displayExactValues:!0,chartArea:{width:"280"},backgroundColor:{fill:"rgb(216,216,216)"},vAxis:{gridlines:{count:4,color:"rgb(216,216,216)"},format:"short",viewWindowMode:"maximized"},hAxis:{textStyle:{color:"black",fontSize:"9"}},series:{0:{lineWidth:"1"},1:{lineWidth:"1"},2:{lineWidth:"1"},3:{lineWidth:"1"}}}},a.haveRecommendations.then(function(e){var f=d.get30yrGrowthData(e,c.getFinancing());b.chartObject.data=f,console.log("started ProjgrowthCtrl",a,b)})}]),angular.module("re2App").filter("invGoal",function(){return function(a){var b={income:"Income",growth:"Growth",retirement:"Retirement",appreciation:"Growth"};return b[a]}}),angular.module("re2App").service("propertyService",["_","$q","$http",function(a,b,c){var d=[{streetAddress:"1234 Main Hammond Road",cityState:"Columbus, OH",beds:5,baths:5,size:2800,built:1999,HIL:"Columbus, OH",thumbnailUrl:"images/houses/home1.22301e74.png"},{streetAddress:"77 Sunset Strip",cityState:"San Antonio, TX",beds:5,baths:5,size:2800,built:1999,HIL:"San Antonio, TX",thumbnailUrl:"images/houses/home2.de6c9f16.png"},{streetAddress:"111 N. Maple Ave.",cityState:"Birmingham, AL",beds:5,baths:5,size:2800,built:1999,HIL:"Birmingham, AL",thumbnailUrl:"images/houses/home3.c50248ef.png"}],e=.05,f=.09,g=[[0,0,0,0,0],[5,0,0,0,0],[10,0,0,0,0],[15,0,0,0,0],[20,0,0,0,0],[25,0,0,0,0],[30,0,0,0,0]],h=function(b,c,d){var e=0;return a.forEach(b,function(a){var b=a.price*(Math.pow(1+a.ApprReturn[c]/100,d)-1);e+=b}),Math.round(e)},i=function(b,c,d){var e=0;return a.forEach(b,function(a){var b=a.price*f*d,g=b+a.minInvestment[c];e+=g}),Math.round(e)},j=function(b,c,d){var e=0;return a.forEach(b,function(a){var b=a.price*a.cashOnCash/100*d;e+=b}),Math.round(e)},k=function(b,c,d){var f=0;return a.forEach(b,function(a){var b=e/100/12,c=b*a.price/(1-Math.pow(1+b,-360)),g=c*d*12;f+=g}),Math.round(f)},l=function(){var d=b.defer(),e=[];return c.get("scripts/services/inventory_trends.json").success(function(b){e=a.remove(b,function(a){return"D"!==a.nirclass}),d.resolve(e)}).error(function(a,b){console.log("error in getting inventory",b),d.reject(e)}),d.promise};this.theInventory=l(),this.getProperties=function(){var c=this,e=function(){var e=b.defer(),f=c.theInventory;return f.then(function(b){console.log("inventory",b),a.forEach(b,function(c,e){b[e].parameters=d[a.random(d.length-1)],b[e].cashOnCash=5.83,b[e].recommended=!1,b[e].rejected=!1,b[e].price=b[e].minInvestment.cash});var c=a.sample(b,30);a.forEach(c,function(a,b,c){c[b].yields=b});var f=a.sample(b,30);a.forEach(f,function(a,b,c){c[b].appreciation=b});var g=a.sample(b,30);a.forEach(g,function(a,b,c){c[b].balanced=b}),console.log("yields",c),e.resolve(a.union(c,f,g))},function(a){console.log("reject callback",a)}),e.promise};return{properties:e()}},this.addNewProperty=function(b){var c=b;return c.parameters=d[a.random(d.length-1)],c.cashOnCash=5.83,c.recommended=!0,c.rejected=!1,c},this.get30yrGrowthData=function(b,c){var d={cols:[{id:"year",label:"Year",type:"string",p:{}},{id:"proj-investment",label:"Investment",type:"number"},{id:"proj-loan",label:"Loan Paydown",type:"number",p:{}},{id:"proj-apprec",label:"Appreciation",type:"number",p:{}},{id:"proj-cashflow",label:"Cash Flow",type:"number",p:{}}]};console.log("get30yrGrowthData",b,c);for(var e=1;e<g.length;e++)g[e][1]=i(b,c,g[e][0]),g[e][2]=k(b,c,g[e][0]),g[e][3]=h(b,c,g[e][0]),g[e][4]=j(b,c,g[e][0]);console.log("growthData",JSON.stringify(g)),d.rows=[];var f=[];return a.forEach(g,function(a){f=[],f.push(0===a[0]?{v:"Today"}:{v:a[0]+" Years"});for(var b=0,c=1;c<a.length;c++)b+=a[c],f.push({v:b,f:" $"+a[c].toLocaleString("currency")});d.rows.push({c:f})}),console.log("data",d),d}}]),angular.module("re2App").filter("nirClassToMkt",function(){return function(a){var b=a.substr(0,1);return"L"===b&&(b="LUX"),b}}),angular.module("re2App").controller("MorepropertiesCtrl",["_","$rootScope","$scope","investmentService","propertyService","riskGroupService",function(a,b,c,d,e,f){e.theInventory.then(function(a){var b=function(){a.length<=c.last+1?c.properties=a.slice(c.first):c.properties=a.slice(c.first,c.last+1),c.hideLeft=c.first<=0?!0:!1,c.hideRight=c.last>=a.length-1?!0:!1,c.leftCursor=c.hideLeft?"auto":"pointer",c.rightCursor=c.hideRight?"auto":"pointer"};c.first=0,c.last=Math.min(4,a.length-1),b(),c.count=a.length,c.banners=g(a),c.moveLeft=function(){c.hideLeft||(c.hideLeft=!0,c.first=Math.max(0,c.first-1),c.last--,b(),console.log("moveLeft first last, hideleft hideright",c.first,c.last,c.hideLeft,c.hideRight))},c.moveRight=function(){c.hideRight||(c.hideRight=!0,c.last=Math.min(a.length-1,c.last+1),c.first++,b(),console.log("moveRight first last, hideleft hideright",c.first,c.last,c.hideLeft,c.hideRight))},c.addProperty=function(a){console.log("addProperty",a,c),d.addPropertyToRecommended(a)}});var g=function(b){var c=[];return a.forEach(b,function(a,b){c.push(h(a.nirclass,b+40))}),c},h=function(a,b){var c=a.substr(0,1).toUpperCase();"L"===c&&(c="LUXURY");var d=f.getNirColor(c).hex;return{styleID:b,ribbonColor:"#"+d,line1Color:"#fff",line1Font:"Proxima N W01 Smbd",line1FontSize:"0px",line1FontWeight:"800",line23Color:"#ffffff",line23Font:"Proxima N W01 Smbd",line23FontSize:"100px",line23FontWeight:"600",line1:"",line2:c.substr(0,3).toUpperCase(),line3:""}}}]),angular.module("re2App").service("riskGroupService",["_","tinycolor",function(a,b){var c=[{name:"LUXURY",narrative:"Luxury",appreciation:10.8,color:{r:68,g:193,b:199}},{name:"A+",narrative:"A",appreciation:7,color:{r:156,g:215,b:247}},{name:"A",narrative:"A",appreciation:8,color:{r:101,g:190,b:236}},{name:"A-",narrative:"A",appreciation:7.7,color:{r:59,g:146,b:213}},{name:"B+",narrative:"B",appreciation:7.8,color:{r:127,g:195,b:126}},{name:"B",narrative:"B",appreciation:7.8,color:{r:131,g:207,b:66}},{name:"B-",narrative:"B",appreciation:7.7,color:{r:33,g:142,b:95}},{name:"C+",narrative:"C",appreciation:6.5,color:{r:247,g:224,b:58}},{name:"C",narrative:"C",appreciation:6.4,color:{r:249,g:197,b:91}},{name:"C-",narrative:"C",appreciation:4,color:{r:248,g:165,b:50}}];a.each(c,function(c){var d=b(c.color),e=d.toHsl(),f=d.toHex(),g=e;g.l=.5*(1+g.l);var h=b({h:g.h,s:g.s,l:g.l}),i=h.toHex();a.extend(c.color,e,{hex:f},{lgtHex:i})}),this.getNirColor=function(b){var d=a.find(c,{name:b});return{hex:d.color.hex,lgtHex:d.color.lgtHex,title:d.narrative}}}]),angular.module("re2App").directive("wpFloat",["$window",function(a){var b=function(b){var c,d,e,f;angular.element(a).bind("scroll",function(){var g=a.document.getElementById("topForWorkingPortfolio");c=g.getBoundingClientRect().bottom,c+=""===g.style.marginBottom?0:parseInt(g.style.marginBottom);var h=a.document.getElementById("portBuilderNavBar");d=h.getBoundingClientRect().bottom,d+=""===h.style.marginBottom?0:parseInt(h.style.marginBottom);var i=a.document.getElementById("workPortfolioPane"),j=i.getBoundingClientRect();f=j.bottom-j.top,e=a.document.getElementById("bottomForWorkingPortfolio");var k=Math.max(c,d),l=e.getBoundingClientRect().top;k=Math.min(k,l-f-30),b.$parent.wpTop={top:k},b.$apply()})};return b}]),angular.module("re2App").directive("ngHtmlCompile",["$compile",function(a){return{restrict:"A",link:function(b,c,d){b.$watch(d.ngHtmlCompile,function(d){c.html(d),a(c.contents())(b)})}}}]),angular.module("re2App").filter("fcDisplay",function(){return function(a){return"financed"===a?"Financed":"Cash"}}),angular.module("re2App").filter("cityStateToMarket",function(){return function(a){var b=a.split(",");return b[0]}}),angular.module("re2App").service("localStorageService",function(){var a={},b=function(){localStorage.setItem("HUInvestmentData",angular.toJson(a)),console.log("ls HUInvestmentData",localStorage.getItem("HUInvestmentData"))},c=function(){"undefined"!=typeof localStorage.HUInvestmentData&&(a=angular.fromJson(localStorage.getItem("HUInvestmentData")))};c(),console.log("persisted data",a),this.setValue=function(c,d){a[c]=d,console.log("set value",a),b()},this.getValue=function(b){var c=null;return this.existsKey(b)&&(c=a[b]),c},this.existsKey=function(b){return a.hasOwnProperty(b)}}),angular.module("re2App").directive("arPortfolioUpdate",function(){return{restrict:"A",scope:!0,link:function(a,b,c){c["class"]="pdAddToPortfolio btn button--xs button--blue-border",b[0].className="pdAddToPortfolio button--xs button--blue-border",b[0].innerHTML='<i class="fa fa-plus" ></i> Add to Portfolio'}}}),angular.module("re2App").directive("leftArrow",function(){return{restrict:"E",templateUrl:"images/leftarrow.9066db41.svg"}}),angular.module("re2App").directive("rightArrow",function(){return{restrict:"E",templateUrl:"images/rightarrow.e7a1b94b.svg",link:function(a,b){console.log("reached right arrow directive",a,b)}}}),angular.module("re2App").directive("nirRibbon",function(){return{templateUrl:"images/nirribbon.0902d060.svg",restrict:"E"}}),angular.module("re2App").directive("mktDistMap",function(){return{templateUrl:"images/Blank_US_Map.717a5209.svg",restrict:"E",link:function(a,b,c){console.log("reached market distribution directive",a,b,c),a.$watch("theCities",function(){if("undefined"!=typeof a.theCities){for(var c=b[0].getElementsByClassName("circle"),d=a.theCities,e=0;e<d.length;e++)d[e]=d[e].toLowerCase();for(console.log("selectedMkts",d,c),e=0;e<c.length;e++)d.indexOf(c[e].id)<0?c[e].style.setProperty("display","none"):c[e].style.setProperty("display","block")}})}}}),angular.module("re2App").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/invmix.html",'<!--img src="images/stubimages/invmix.fe17e4ee.png"  style="height:150px;"/--> <div ng-controller="InvmixCtrl" style="width:324px"> <div class="col-md-12"><h6 style="text-align:left;margin-top:10px">Investment Mix</h6></div> <ul class="list-inline" style="margin-left:0"> <li ng-repeat="nh in nhClasses" style="vertical-align:bottom"> {{ nhCounts[nh]>0 ? nhCounts[nh] : ""}} <div style="background-color:#{{(nhCounts[nh]>0) ? nhColors[nh].hex : nhColors[nh].lgtHex }};color:white;min-width: 55px; min-height:{{(nhCounts[nh]>0) ? 80 : 30 }}px;vertical-align:bottom;padding-top:{{(nhCounts[nh]>0) ? 5 : 10 }}%"> <div><img src="images/isHouse_with_door.c718675e.svg" ng-show="nhCounts[nh]>0"> <p ng-show="nhCounts[nh]>0" style="min-height:21px;margin:0">&nbsp;</p> {{nhColors[nh].title}}</div> </div> </li> </ul> <p>Properties by Neighborhood Rating </p> </div>'),a.put("views/main.html",'<div class="housesBackDrop"> <div class="row"> <div class="col-xs-12 gapBefore"> <h1>A Better Way to Invest in Real Estate</h1> <div class="text"> <p>HomeUnion delivers an end-to-end real estate investment experience backed by industry experts and in-depth analytics.</p> </div> </div> </div> </div>'),a.put("views/markdist.html",'<!--img src="images/stubimages/mktdist.7f8507dc.png"  style="height:150px;"/--> <div ng-controller="MarkdistCtrl"> <div class="col-md-12"> <h6 style="text-align:left;margin-top:10px">Market Distribution</h6> </div> <div id="usMap"> <mkt-dist-map></mkt-dist-map> </div> <p>{{ propCounts }} Properties in {{ marketCount }} Markets</p> </div>'),
a.put("views/modcriteria.html",'<!--p style="min-width: 810px; min-height:\n213px;background-color:rgba(242,228,228,1)">This is the modcriteria view.</p--><!--img src="images/stubimages/modcrit.80901c4a.png" style="width:810px;height:213px;" /--> <div ng-controller="ModcriteriaCtrl"> <div class="panel panel-default" style="background-color: rgba(248,248,248,1)"> <div class="panel-heading"> <h4 class="panel-title">Modify Criteria <a ng-click="openClosePanel()"><i ng-class="openClose"></i></a> </h4> </div> <div ng-show="showCriteria" class="panel-body" style="background-color: rgba(242,242,242,1)"> <table style="width:100%;margin-bottom:20px"> <tr> <td> <div ng-repeat="filt in filters" ng-show="filt.state===\'display\'" style="display:inline-block;margin-right:15px;width:{{filt.width}}%;vertical-align:top"> {{ filt.name }}&nbsp;<i ng-click="collapseFilter(filt.name)" class="fa fa-angle-double-down"></i><br> <span ng-html-compile="\'{{filt.code}}\'"></span> <span ng-show="notValid" style="color:red">{{errmsg}}</span> </div> </td> <td style="width:15%;font-size:115%"> <a href="#" ng-click="portfolioReset($event)"> <h4>Reset Portfolio</h4></a> </td> </tr> </table> </div> <div ng-show="showCriteria" class="panel-footer" style="background-color: rgba(248,248,248,1);border:none"> <button class="btn btn-default" href="" style="background-color: rgba(242,242,242,1);margin-right:5px"> More Filters</button> <div ng-repeat="filt in filters" ng-show="filt.state===\'collapsed\'" class="btn-group" role="group" aria-label="collapsedFilters"> <button class="btn btn-default" ng-click="expandFilter(filt.name)" style="background-color: rgba(242,242,242,1)"> {{filt.name}}</button> <button class="btn btn-default" style="background-color: rgba(242,242,242,1);margin-right:5px"> x </button> </div> </div> </div> </div>'),a.put("views/moreproperties.html",'<table class="moreProperties" ng-controller="MorepropertiesCtrl"> <tr> <td ng-show="count > 0"> <left-arrow></left-arrow> </td> <td class="addTombstone text-center" ng-repeat="prop in properties"> <div style="z-index:5;position:absolute" class="ribbon-overlay"> <nir-ribbon></nir-ribbon> </div> <img ng-src="{{ properties[$index].parameters.thumbnailUrl }}" style="width:136px;height:90px"> <br>REALestimate&trade;&nbsp;&nbsp;&nbsp;&nbsp; {{ properties[$index].REALestimate[fc] | number : 2}}% <p> INVESTMENT<br><span>{{ properties[$index].minInvestment[fc] | currency: \'$\' : 0}}</span> </p> <button type="button" id="a{{ properties[i].pid }}" class="pdAddProp button--xs button--green-border" ng-click="addProperty(prop.pid)" style="font-size:14px"> Add Property</button> <div style="width:136px" ng-show="$index>last">&nbsp;</div> </td> <td style="vertical-align:top"><div style="width:136px"><a href="#/receng" id="goSeeMoreProps"> <img src="images/370B4AFE73F516EA.f1677022.jpg" style="width:136px;height:136px"> <a></a></a></div></td> <td> <right-arrow></right-arrow> </td> <td ng-hide="count > 0">No additional properties</td> </tr> </table> <!-- 136 x 90 -->'),a.put("views/pb.html","<p>This is the portfolio builder view.</p>"),a.put("views/pbnav.html",'<div ng-controller="PbnavCtrl" id="page-top" class="collapse navbar-collapse"> <!--p ng-bind="txt"></p--> <ul class="list-inline nav navbar-nav"> <li ng-repeat="menu in menuItems"> <a ng-click="chgSelected(menu)" href="#{{ menu.route }}"><h6 style="color: {{selectedMenu.route == menu.route ? \'rgba(71,164,238,1)\' : \'#000\' }}">{{ menu.name }}</h6></a> </li> </ul> </div>'),a.put("views/pbprog.html",'<div ng-controller="PbprogCtrl" class="collapse navbar-collapse"> <ul class="list-inline nav navbar-nav" style="width:90%;margin-left:5%;text-align:center"> <li ng-repeat="step in steps" style="width:30%"> <h6 ng-style="progressStyle(step)"> <i ng-class="progressCheck(step)" style="font-size:32px;vertical-align:middle"></i> {{ step }} {{ (step.indexOf("Create") >=0 ? ( plan | invGoal )+" Plan" : "" ) }} </h6></li> </ul> </div>'),a.put("views/plheader.html",'<div class="row"> <div class="col-md-6"> <h2>{{ numProps }} Portfolio Properties</h2> </div> <div class="col-md-6"> <div class="row"> <div class="col-md-6"> <div class="dropdown"> <span style="font-size:12px; margin-left:-10px">Sort:</span> <div class="btn-group" role="group" aria-label="sortButtonGroup"> <div class="btn-group" role="group"> <button class="btn btn-default dropdown-toggle" type="button" id="propSortMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" style="font-size:10px"> {{sortField}} <span class="caret" style="font-size:10px"></span> </button> <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"> <li><a ng-click="changeSort(fld)" href="" ng-repeat="fld in sortFields" style="font-size:10px">{{fld}}</a></li> </ul> </div> <button class="btn btn-default" type="button" style="font-size:10px" ng-click="changeDirection()"> <i ng-class="sortDirection"></i> </button> </div> </div> </div> <div class="col-md-6"> <button type="button" class="button--xs button--gray-border" ng-click="addAllToPortfolio()" style="font-size:10px;text-transform:none;font-weight:800"> Add Properties to WatchList </button> </div> </div> </div> </div>'),a.put("views/portfolio.html","<div ng-include=\"'views/pbnav.html'\"></div> <div ng-include=\"'views/pbprog.html'\"></div> <p>This is the portfolio view.</p>"),a.put("views/projgrowth.html",'<!--img src="images/stubimages/30projgrowth.3334f8a7.png" style="height:300px;" /--> <div ng-controller="ProjgrowthCtrl"> <h4 style="background-color: rgb(216,216,216); margin-bottom: 0">30 Year Projected Growth</h4> <div google-chart chart="chartObject" ng-style="cssStyle" on-ready="chartReady()"></div> </div>'),a.put("views/proplist.html",'<div ng-include="\'views/plheader.html\'"></div> <div class="row propListing" ng-repeat="r in recommendations track by r.pid"> <div class="col-md-1"> <div class="checkbox"> <label> <input type="checkbox" id="sel_{{r.pid}}" ng-model="r.selected" ng-click="checkedSelected(r)"> </label> </div> </div> <div class="col-md-11 property-item" style="padding:20px 20px 0 20px;min-height:181px;margin-bottom:20px;border: 1px solid #ccc;{{propSelected(r.pid)}}"> <div class="showOnHover" style="float:right;line-height:0.6;margin:-15px -15px 0 0"> <a href="" class="deleteProperty" id="d{{r.pid}}" ng-click="deleteProperty(r.pid)">x</a></div> <div class="row"> <div class="col-md-3"> <img ng-src="{{r.parameters.thumbnailUrl}}" width="160px;"> </div> <div class="col-md-9"> <div class="col-md-4"> <span style="font-size:16px;line-height:1.5;font-weight:800">{{ r.parameters.streetAddress }}</span><br> {{ r.parameters.cityState }}<br> {{ r.parameters.beds }} beds&nbsp;&nbsp;&nbsp; {{ r.parameters.baths }} baths<br> {{ r.parameters.size.toLocaleString() }} sqft<br> Built: {{ r.parameters.built }} </div> <div class="col-md-8" style="font-size:12px;padding:0"> <table style="width:95%"> <tr><td>PRICE</td><td class="pull-right" style="margin-right:15px">{{ r.price | currency: \'$\' : 0}}</td> <td>APPRECIATION</td><td class="pull-right">{{ r.ApprReturn[fc] | number : 2}}%</td></tr> <tr><td>INVESTMENT</td><td class="pull-right" style="margin-right:15px">{{ r.minInvestment[fc] | currency: \'$\' : 0}}</td> <td>CASH ON CASH</td><td class="pull-right">{{ r.cashOnCash | number : 2}}%</td></tr> <tr><td>MARKET</td><td class="pull-right" style="margin-right:15px">{{ r.parameters.HIL | cityStateToMarket }}</td> <td>REALestimate&trade;</td><td class="pull-right">{{ r.REALestimate[fc] | number : 2}}%</td></tr> <tr><td>NEIGHBORHOOD</td><td class="pull-right" style="margin-right:15px">{{ r.nirclass | nirClassToMkt }}</td> <td>TOTAL RETURN</td><td class="pull-right">{{ r.TotalReturn[fc] | number : 2}}%</td> </tr> </table> </div> <div> </div> <div class="clearfix"></div> <div class="row showOnHover"> <div class="col-md-4"> <button type="button" class="button--xs button--blue-clear button--text-transform--none" style="margin-bottom:0"><i class="fa fa-star-o fa--sm"></i> Watch List </button> </div> <div class="col-md-4"> <button type="button" id="r{{r.pid}}" style="font-size:10px;text-transform:none;font-weight:800" ng-click="replaceProperty(r.pid)" class="pdReplProp button--xs button--blue-border" style="margin-bottom:0">Replace Property</button> </div> <div class="col-md-4"> <button type="button" id="ar{{r.pid}}" ar-portfolio-update style="font-size:10px;text-transform:none;font-weight:800" ng-click="addToRemoveFromPortfolio(r.pid)" style="margin-bottom:0"><i ng-class="plusMinusSymbol[r.pid]"></i>&nbsp;{{addRemoveText[r.pid]}}</button> </div> </div> </div> </div></div></div>'),a.put("views/propsearch.html","<div ng-include=\"'views/pbnav.html'\"></div> <div ng-include=\"'views/pbprog.html'\"></div> <p>This is the propsearch view.</p>"),a.put("views/receng.html",'<!--p>This is the receng view.</p--> <div ng-include="\'views/pbnav.html\'"></div> <div ng-include="\'views/pbprog.html\'"></div> <div ng-controller="RecengCtrl"> <hr id="topForWorkingPortfolio" style="margin:10px 0"> <div ng-include="\'views/workportfolio.html\'"></div> <div class="row"> <div class="col-md-8"> <h1>Recommended {{ plan | invGoal }} Portfolio</h1> </div> </div> <div class="row"> <div style="width:68%;padding-left:15px"> <div ng-include="\'views/modcriteria.html\'"></div> </div> </div> <div class="row"> <div class="col-md-8"> <table style="width:90%;margin: 0 auto;text-align:center;margin-bottom:30px"> <tr> <td style="border: solid 1px"> <div ng-include="\'views/invmix.html\'"></div></td> <td rowspan="2" style="border: solid 1px;background-color: rgb(216,216,216)"> <div ng-include="\'views/projgrowth.html\'"></div></td> </tr> <tr> <td style="border: solid 1px"> <div style="min-height:150px" ng-include="\'views/markdist.html\'"></div></td> </tr> </table> <div ng-include="\'views/proplist.html\'"></div> </div> </div> <div id="bottomForWorkingPortfolio" class="row" style="margin-bottom:30px"> <div class="col-md-12"> <div ng-include="\'views/moreproperties.html\'"></div> </div> </div> <div class="well well-lg"> <h6>What happens next?</h6> <p> You\'ve already provided your pre-qualification documents. </p> <p> <strong>The next step:</strong> HomeUnion will start bidding on the assets in your porfolio and work towards getting the best price possible. We will send you an e-mail letting you know more information about the next step. Please make sure that you\'ve whitelisted <a href="mailto:info@homeunion.com">info@homeunion.com</a> to ensure you are receiving our emails. </p> <button class="button--xs button--blue">What\'s next? </button> </div> </div>'),a.put("views/triad.html","<p>This is the triad view.</p>"),a.put("views/watchlist.html","<div ng-include=\"'views/pbnav.html'\"></div> <div ng-include=\"'views/pbprog.html'\"></div> <p>This is the watchlist view.</p>"),a.put("views/workportfolio.html",'<div id="workPortfolioPane" ng-controller="WorkportfolioCtrl" class="floating-top-right-panel" wp-float ng-style="wpTop"> <div style="background-color: rgba(216,216,216,1)" class="text-center"> <!--img src="images/stubimages/workport.fd124a0f.png" style="height:382px;width:325px;" /--> <div style="min-height:382px;padding:30px 0;font-size:120%;{{hasPropertySelections}}"> <h1>Working Portfolio</h1> <p ng-show="showProperties()">{{totalReturn | number : 2 }}%<br> Total Return</p> <table style="width:80%;margin: 0 auto"> <tr ng-show="numberOfProperties>0"><td class="text-left">APPRECIATION</td> <td class="text-right">{{ appreciation | number : 2 }}%</td></tr> <tr ng-show="numberOfProperties>0"><td class="text-left">REAlestimate&trade;</td> <td class="text-right">{{ realEstimate | number : 2 }}%</td></tr> <tr ng-show="numberOfProperties>0"><td class="text-left">TOTAL RETURN</td> <td class="text-right">{{ totalReturn | number : 2 }}%</td></tr> <tr ng-show="numberOfProperties>0"><td class="text-left">TOTAL INVESTMENT</td> <td class="text-right">{{ investment | currency : \'$\' : 0 }}</td></tr> <tr ng-show="numberOfProperties>0"><td class="text-left">PORTFOLIO VALUE</td> <td class="text-right">{{ portfolioValue | currency : \'$\' : 0 }}</td></tr> <tr><td class="text-left"># PROPERTIES</td> <td class="text-right">{{numberOfProperties}}</td></tr> </table> </div> </div> <div class="text-center" style="width:100%;background-color:#fff;\n      margin-bottom:0;padding:5px 0;height:60px"> <button type="button" class="button--sm button--blue" ng-click="addToPortfolio()"> Add to my portfolio ({{ numberToAdd }}) </button> </div> </div>')}]);